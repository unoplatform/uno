{"version":3,"file":"main.js","sources":["main.js"],"sourcesContent":["// Copyright (c) Microsoft. All rights reserved. Licensed under the MIT license. See LICENSE file in the project root for full license information.\n\ndocument.addEventListener(\n    \"DOMContentLoaded\",\n    function () {\n\n\n        initializeNavbar();\n        \n        // Cache key and expiration (1 hour)\n        const CACHE_KEY = 'uno_sdk_versions';\n        const CACHE_DURATION = 60 * 60 * 1000; // 1 hour in milliseconds\n        \n        // Flag to track if cached data was successfully displayed\n        let cachedDataDisplayed = false;\n        \n        // Try to load cached versions immediately\n        const cached = localStorage.getItem(CACHE_KEY);\n        let cachedData = null;\n        if (cached) {\n            try {\n                cachedData = JSON.parse(cached);\n                if (Date.now() - cachedData.timestamp < CACHE_DURATION) {\n                    updateVersionDisplay(cachedData.stable, cachedData.dev);\n                    cachedDataDisplayed = true;\n                } else {\n                    cachedData = null; // Cache expired\n                }\n            } catch (e) {\n                cachedData = null;\n            }\n        }\n        \n        // Fetch and update SDK version dynamically from NuGet\n        fetch('https://api.nuget.org/v3-flatcontainer/uno.templates/index.json')\n            .then(r => r.json())\n            .then(data => {\n                if (data.versions) {\n                    const versions = data.versions;\n                    \n                    // Find latest stable version (no -dev suffix)\n                    const stableVersions = versions.filter(v => !v.includes('-dev'));\n                    const latestStableVersion = stableVersions.length > 0\n                        ? stableVersions[stableVersions.length - 1]\n                        : null;\n                    \n                    // Find latest dev version\n                    const devVersions = versions.filter(v => v.includes('-dev'));\n                    const latestDevVersion = devVersions.length > 0\n                        ? devVersions[devVersions.length - 1]\n                        : null;\n                    \n                    // Cache the versions and update display only if at least one version is available\n                    if (latestStableVersion !== null || latestDevVersion !== null) {\n                        localStorage.setItem(CACHE_KEY, JSON.stringify({\n                            stable: latestStableVersion,\n                            dev: latestDevVersion,\n                            timestamp: Date.now()\n                        }));\n                        \n                        // Update display\n                        updateVersionDisplay(latestStableVersion, latestDevVersion);\n                    }\n                }\n            })\n            .catch(err => {\n                console.log('Could not fetch SDK version:', err);\n                // Show error state only if cached data wasn't successfully displayed earlier\n                // (cachedDataDisplayed is true when cached data was successfully displayed)\n                if (!cachedDataDisplayed) {\n                    const versionElement = document.querySelector('.sdk-version');\n                    const badgeElement = document.querySelector('.sdk-version-badge');\n\n                    if (versionElement) {\n                        versionElement.textContent = 'Version unavailable';\n                    }\n\n                    if (badgeElement) {\n                        // Optional: add a class for styling the error state\n                        badgeElement.classList.add('sdk-version-badge-error');\n                    }\n                }\n            });\n        \n        function updateVersionDisplay(latestStableVersion, latestDevVersion) {\n            const versionElement = document.querySelector('.sdk-version');\n            const badgeElement = document.querySelector('.sdk-version-badge');\n            \n            if (!versionElement) return;\n            \n            // Handle null values with a fallback\n            versionElement.textContent = latestStableVersion || 'Version unavailable';\n            \n            if (badgeElement) {\n                // Remove existing click handler if any\n                const newBadge = badgeElement.cloneNode(true);\n                badgeElement.parentNode.replaceChild(newBadge, badgeElement);\n                \n                newBadge.title = `Latest stable: ${latestStableVersion}\\nLatest dev: ${latestDevVersion}\\nClick to see update instructions`;\n                newBadge.style.cursor = 'pointer';\n                \n                // Add click handler to show update instructions\n                newBadge.addEventListener('click', function(e) {\n                    e.preventDefault();\n                    const existingModal = document.getElementById('sdk-update-modal');\n                    if (existingModal) {\n                        existingModal.remove();\n                        return;\n                    }\n                    \n                    // Create modal structure using DOM manipulation to prevent XSS\n                    const modal = document.createElement('div');\n                    modal.id = 'sdk-update-modal';\n                    \n                    const overlay = document.createElement('div');\n                    overlay.className = 'sdk-modal-overlay';\n                    \n                    const content = document.createElement('div');\n                    content.className = 'sdk-modal-content';\n                    \n                    // Header\n                    const header = document.createElement('div');\n                    header.className = 'sdk-modal-header';\n                    const headerTitle = document.createElement('h3');\n                    headerTitle.textContent = 'Update Uno SDK';\n                    const closeBtn = document.createElement('button');\n                    closeBtn.className = 'sdk-modal-close';\n                    closeBtn.type = 'button';\n                    closeBtn.setAttribute('aria-label', 'Close update dialog');\n                    closeBtn.textContent = '√ó';\n                    header.appendChild(headerTitle);\n                    header.appendChild(closeBtn);\n                    \n                    // Body\n                    const body = document.createElement('div');\n                    body.className = 'sdk-modal-body';\n                    \n                    // Helper function to create version section with safe text content\n                    function createVersionSection(icon, title, version, description, command) {\n                        const section = document.createElement('div');\n                        section.className = 'sdk-version-section';\n                        \n                        const h4 = document.createElement('h4');\n                        h4.textContent = icon + ' ' + title;\n                        section.appendChild(h4);\n                        \n                        // Only add version label if version and description are provided\n                        if (version || description) {\n                            const versionLabel = document.createElement('p');\n                            versionLabel.className = 'version-label';\n                            if (version) {\n                                const strong = document.createElement('strong');\n                                strong.textContent = version; // Use textContent to prevent XSS\n                                versionLabel.appendChild(strong);\n                            }\n                            if (description) {\n                                versionLabel.appendChild(document.createTextNode(version ? ' - ' + description : description));\n                            }\n                            section.appendChild(versionLabel);\n                        }\n                        \n                        // Only add command block if a valid command string is provided\n                        if (command) {\n                            const codeBlock = document.createElement('div');\n                            codeBlock.className = 'sdk-code-block';\n                            const code = document.createElement('code');\n                            code.textContent = command; // Use textContent to prevent XSS\n                            const copyBtn = document.createElement('button');\n                            copyBtn.className = 'sdk-copy-btn';\n                            copyBtn.setAttribute('data-clipboard', command);\n                            copyBtn.textContent = 'Copy';\n                            codeBlock.appendChild(code);\n                            codeBlock.appendChild(copyBtn);\n                            section.appendChild(codeBlock);\n                        }\n                        \n                        return section;\n                    }\n                    \n                    // Stable version section\n                    const stableCommand = latestStableVersion\n                        ? 'dotnet new install Uno.Templates::' + latestStableVersion\n                        : null;\n                    body.appendChild(createVersionSection(\n                        'üì¶',\n                        'Latest Stable Version',\n                        latestStableVersion,\n                        'Recommended for production',\n                        stableCommand\n                    ));\n                    \n                    // Dev version section\n                    const devCommand = latestDevVersion\n                        ? 'dotnet new install Uno.Templates::' + latestDevVersion\n                        : null;\n                    const devSection = createVersionSection(\n                        'üöÄ',\n                        'Latest Dev Version',\n                        latestDevVersion,\n                        'Preview features & fixes',\n                        devCommand\n                    );\n                    const devNote = document.createElement('p');\n                    devNote.className = 'sdk-note';\n                    devNote.textContent = 'üìç ';\n                    const noteStrong = document.createElement('strong');\n                    noteStrong.textContent = 'NuGet Package:';\n                    devNote.appendChild(noteStrong);\n                    devNote.appendChild(document.createTextNode(' '));\n                    const nugetLink = document.createElement('a');\n                    nugetLink.href = 'https://www.nuget.org/packages/Uno.Templates';\n                    nugetLink.target = '_blank';\n                    nugetLink.rel = 'noopener';\n                    nugetLink.textContent = 'Uno.Templates on NuGet.org';\n                    devNote.appendChild(nugetLink);\n                    devSection.appendChild(devNote);\n                    body.appendChild(devSection);\n                    \n                    // Check version section\n                    body.appendChild(createVersionSection(\n                        '‚ÑπÔ∏è',\n                        'Check Installed Version',\n                        null,\n                        null,\n                        'dotnet new details Uno.Templates'\n                    ));\n                    \n                    // Tip note\n                    const tipNote = document.createElement('p');\n                    tipNote.className = 'sdk-note';\n                    tipNote.textContent = 'üí° ';\n                    const tipStrong = document.createElement('strong');\n                    tipStrong.textContent = 'Tip:';\n                    tipNote.appendChild(tipStrong);\n                    tipNote.appendChild(document.createTextNode(' If you have an older version installed, uninstall it first using:'));\n                    const br = document.createElement('br');\n                    tipNote.appendChild(br);\n                    const tipCode = document.createElement('code');\n                    tipCode.textContent = 'dotnet new uninstall Uno.Templates';\n                    tipNote.appendChild(tipCode);\n                    body.appendChild(tipNote);\n                    \n                    // Assemble modal\n                    content.appendChild(header);\n                    content.appendChild(body);\n                    overlay.appendChild(content);\n                    modal.appendChild(overlay);\n\n                    // Save the element that was focused before opening the modal\n                    const previouslyFocusedElement = document.activeElement;\n\n                    document.body.appendChild(modal);\n\n                    // Move focus to the close button (or first focusable element) for accessibility\n                    const closeButton = modal.querySelector('.sdk-modal-close');\n                    if (closeButton && typeof closeButton.focus === 'function') {\n                        closeButton.focus();\n                    }\n\n                    const focusableSelectors = 'a[href], button:not([disabled]), textarea, input[type=\"text\"], input[type=\"radio\"], input[type=\"checkbox\"], select, [tabindex]:not([tabindex=\"-1\"])';\n                    function getFocusableElements() {\n                        return Array.from(modal.querySelectorAll(focusableSelectors))\n                            .filter(el => !el.hasAttribute('disabled') && el.getAttribute('aria-hidden') !== 'true');\n                    }\n                    \n                    // Close modal handlers (click and Escape key)\n                    function closeModal() {\n                        modal.remove();\n                        document.removeEventListener('keydown', onKeyDown);\n                        if (previouslyFocusedElement && document.contains(previouslyFocusedElement) && typeof previouslyFocusedElement.focus === 'function') {\n                            previouslyFocusedElement.focus();\n                        }\n                    }\n\n                    function onKeyDown(e) {\n                        if (e.key === 'Escape' || e.key === 'Esc') {\n                            e.preventDefault();\n                            closeModal();\n                            return;\n                        }\n\n                        if (e.key === 'Tab') {\n                            const focusableElements = getFocusableElements();\n                            if (!focusableElements.length) {\n                                return;\n                            }\n\n                            const firstElement = focusableElements[0];\n                            const lastElement = focusableElements[focusableElements.length - 1];\n                            const isShift = e.shiftKey;\n                            const current = document.activeElement;\n\n                            if (!isShift && current === lastElement) {\n                                e.preventDefault();\n                                firstElement.focus();\n                            } else if (isShift && current === firstElement) {\n                                e.preventDefault();\n                                lastElement.focus();\n                            }\n                        }\n                    }\n\n                    document.addEventListener('keydown', onKeyDown);\n\n                    if (closeButton) {\n                        closeButton.addEventListener('click', () => closeModal());\n                    }\n                    modal.querySelector('.sdk-modal-overlay').addEventListener('click', (e) => {\n                        if (e.target.classList.contains('sdk-modal-overlay')) {\n                            closeModal();\n                        }\n                    });\n                    \n                    // Copy button handlers\n                    modal.querySelectorAll('.sdk-copy-btn').forEach(btn => {\n                        btn.addEventListener('click', function() {\n                            const text = this.getAttribute('data-clipboard');\n                            const button = this;\n                            const showCopiedState = () => {\n                                const originalText = button.textContent;\n                                button.textContent = 'Copied!';\n                                button.classList.add('copied');\n                                setTimeout(() => {\n                                    button.textContent = originalText;\n                                    button.classList.remove('copied');\n                                }, 2000);\n                            };\n\n                            if (navigator.clipboard && typeof navigator.clipboard.writeText === 'function') {\n                                navigator.clipboard.writeText(text)\n                                    .then(showCopiedState)\n                                    .catch(err => {\n                                        console.error('Failed to copy to clipboard using navigator.clipboard:', err);\n                                    });\n                            } else {\n                                // Fallback for browsers without Clipboard API support\n                                try {\n                                    const textarea = document.createElement('textarea');\n                                    textarea.value = text;\n                                    textarea.setAttribute('readonly', '');\n                                    textarea.style.position = 'absolute';\n                                    textarea.style.left = '-9999px';\n                                    document.body.appendChild(textarea);\n                                    textarea.select();\n                                    let successful = false;\n                                    try {\n                                        successful = document.execCommand && document.execCommand('copy');\n                                    } catch (execErr) {\n                                        console.warn('document.execCommand copy failed:', execErr);\n                                    }\n                                    document.body.removeChild(textarea);\n                                    if (successful) {\n                                        showCopiedState();\n                                    } else {\n                                        console.warn('Fallback copy to clipboard was not successful.');\n                                    }\n                                } catch (err) {\n                                    console.error('Fallback copy to clipboard failed:', err);\n                                }\n                            }\n                        });\n                    });\n                });\n            }\n        }\n\n        document.addEventListener(\n            \"click\",\n            function (e) {\n                const t = e.target;\n                if (\n                    window.innerWidth >= 1024 ||\n                    !t.matches(\"#navbar .menu-item-has-children a\")\n                )\n                    return;\n                e.stopImmediatePropagation();\n                t.parentElement.classList.toggle(\"open\");\n            },\n            true\n        );\n        \n        // Light-dismiss for Pagefind search flyout\n        document.addEventListener('click', function(e) {\n            const searchContainer = document.querySelector('#search');\n            const pagefindDrawer = document.querySelector('.pagefind-ui__drawer');\n            \n            if (!searchContainer || !pagefindDrawer) return;\n            \n            // Check if the drawer is visible\n            const drawerIsVisible = pagefindDrawer.offsetParent !== null;\n            \n            if (drawerIsVisible) {\n                // Check if click is outside the search container\n                if (!searchContainer.contains(e.target)) {\n                    // Clear the search input to dismiss the drawer\n                    const searchInput = searchContainer.querySelector('.pagefind-ui__search-input');\n                    if (searchInput) {\n                        searchInput.value = '';\n                        // Trigger input event to update Pagefind UI\n                        searchInput.dispatchEvent(new Event('input', { bubbles: true }));\n                    }\n                }\n            }\n        }, true);\n        \n        // Store and display search history as pills\n        const SEARCH_HISTORY_KEY = 'uno_search_history';\n        const MAX_SEARCH_HISTORY = 10;\n        \n        // Wait for Pagefind to initialize\n        const initializeSearchKeywords = setInterval(function() {\n            const searchInput = document.querySelector('.pagefind-ui__search-input');\n            const searchContainer = document.querySelector('#search');\n            \n            if (searchInput && searchContainer) {\n                clearInterval(initializeSearchKeywords);\n                \n                const ZERO_WIDTH_SPACE = '\\u200B';\n                const MIN_TOKEN_LENGTH = 3;\n                const MAX_RESULTS_TO_CHECK = 20;\n                let hasActiveQuery = false;\n                let pendingNoResultsUpdate = null;\n                let drawerMutationObserver = null;\n\n                function removeElements(selector, root = document) {\n                    const scope = root || document;\n                    if (!scope) {\n                        return;\n                    }\n                    scope.querySelectorAll(selector).forEach(element => element.remove());\n                }\n\n                function sanitizeQuery(value) {\n                    return (value || '').replace(/\\u200B/g, '').trim();\n                }\n\n                function tokenizeQuery(value) {\n                    return sanitizeQuery(value)\n                        .toLowerCase()\n                        .split(/\\s+/)\n                        .map(token => token.trim())\n                        .filter(token => token.length >= MIN_TOKEN_LENGTH);\n                }\n\n                function marksContainTokens(tokens, marks) {\n                    if (!tokens.length) {\n                        return true;\n                    }\n\n                    if (!marks || marks.length === 0) {\n                        return false;\n                    }\n\n                    for (const mark of marks) {\n                        const content = (mark.textContent || mark.innerText || '').trim().toLowerCase();\n                        if (!content) {\n                            continue;\n                        }\n\n                        for (const token of tokens) {\n                            if (content.includes(token)) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    return false;\n                }\n\n                function getResultsArea() {\n                    const drawer = document.querySelector('.pagefind-ui__drawer');\n                    if (!drawer) {\n                        return null;\n                    }\n\n                    return drawer.querySelector('.pagefind-ui__results-area');\n                }\n\n                function hideNoResultsState() {\n                    const resultsArea = getResultsArea();\n                    if (!resultsArea) {\n                        return;\n                    }\n\n                    const resultsList = resultsArea.querySelector('.pagefind-ui__results');\n                    if (resultsList) {\n                        resultsList.style.removeProperty('display');\n                        resultsList.removeAttribute('aria-hidden');\n                    }\n\n                    const message = resultsArea.querySelector('.pagefind-ui__message');\n                    if (message) {\n                        message.style.removeProperty('display');\n                    }\n\n                    const loadMoreButton = resultsArea.querySelector('.pagefind-ui__button');\n                    if (loadMoreButton) {\n                        loadMoreButton.style.removeProperty('display');\n                    }\n\n                    removeElements('.search-no-results-state', resultsArea);\n                }\n\n                function showNoResultsState(query) {\n                    const resultsArea = getResultsArea();\n                    if (!resultsArea) {\n                        return;\n                    }\n\n                    removeElements('.search-empty-state', resultsArea);\n\n                    let emptyState = resultsArea.querySelector('.search-no-results-state');\n                    if (!emptyState) {\n                        emptyState = document.createElement('div');\n                        emptyState.className = 'search-no-results-state';\n\n                        const icon = document.createElement('div');\n                        icon.className = 'search-no-results-state__icon';\n                        icon.textContent = 'üîç';\n                        emptyState.appendChild(icon);\n\n                        const title = document.createElement('div');\n                        title.className = 'search-no-results-state__title';\n                        title.textContent = 'No results found';\n                        emptyState.appendChild(title);\n\n                        const description = document.createElement('div');\n                        description.className = 'search-no-results-state__description';\n\n                        const intro = document.createElement('span');\n                        intro.textContent = \"We couldn't find any matches for \";\n                        description.appendChild(intro);\n\n                        const querySpan = document.createElement('span');\n                        querySpan.className = 'search-no-results-state__query';\n                        description.appendChild(querySpan);\n\n                        const outro = document.createElement('span');\n                        outro.textContent = '. Try different keywords or check your spelling.';\n                        description.appendChild(outro);\n\n                        emptyState.appendChild(description);\n                        resultsArea.appendChild(emptyState);\n                    }\n\n                    const queryTarget = emptyState.querySelector('.search-no-results-state__query');\n                    if (queryTarget) {\n                        queryTarget.textContent = `\"${query}\"`;\n                    }\n\n                    const resultsList = resultsArea.querySelector('.pagefind-ui__results');\n                    if (resultsList) {\n                        resultsList.style.display = 'none';\n                        resultsList.setAttribute('aria-hidden', 'true');\n                    }\n\n                    const message = resultsArea.querySelector('.pagefind-ui__message');\n                    if (message) {\n                        message.style.display = 'none';\n                    }\n\n                    const loadMoreButton = resultsArea.querySelector('.pagefind-ui__button');\n                    if (loadMoreButton) {\n                        loadMoreButton.style.display = 'none';\n                    }\n                }\n\n                function updateNoResultsState() {\n                    const normalizedQuery = sanitizeQuery(searchInput.value);\n                    if (!hasActiveQuery || !normalizedQuery) {\n                        hideNoResultsState();\n                        return;\n                    }\n\n                    const resultsArea = getResultsArea();\n                    if (!resultsArea) {\n                        return;\n                    }\n\n                    if (resultsArea.querySelector('.pagefind-ui__loading')) {\n                        hideNoResultsState();\n                        return;\n                    }\n\n                    const resultsList = resultsArea.querySelector('.pagefind-ui__results');\n                    const resultItems = resultsList ? Array.from(resultsList.querySelectorAll('.pagefind-ui__result')) : [];\n                    const visibleResults = resultItems.filter(item => !item.classList.contains('pagefind-ui__loading'));\n                    const tokens = tokenizeQuery(normalizedQuery);\n                    let hasMatchingHighlight = tokens.length === 0;\n\n                    for (let i = 0; i < visibleResults.length && i < MAX_RESULTS_TO_CHECK; i++) {\n                        const marks = visibleResults[i].querySelectorAll('mark');\n                        if (marksContainTokens(tokens, marks)) {\n                            hasMatchingHighlight = true;\n                            break;\n                        }\n                    }\n\n                    if (visibleResults.length === 0 || !hasMatchingHighlight) {\n                        showNoResultsState(normalizedQuery);\n                    } else {\n                        hideNoResultsState();\n                    }\n                }\n\n                function scheduleNoResultsEvaluation() {\n                    startDrawerObserver();\n                    if (pendingNoResultsUpdate) {\n                        cancelAnimationFrame(pendingNoResultsUpdate);\n                    }\n                    pendingNoResultsUpdate = requestAnimationFrame(() => {\n                        pendingNoResultsUpdate = null;\n                        updateNoResultsState();\n                    });\n                }\n\n                function startDrawerObserver() {\n                    if (drawerMutationObserver) {\n                        return;\n                    }\n                    const drawer = document.querySelector('.pagefind-ui__drawer');\n                    if (!drawer) {\n                        return;\n                    }\n                    drawerMutationObserver = new MutationObserver(() => {\n                        scheduleNoResultsEvaluation();\n                    });\n                    drawerMutationObserver.observe(drawer, {\n                        childList: true,\n                        subtree: true,\n                        characterData: true\n                    });\n                }\n\n                const drawerObserverPoll = setInterval(() => {\n                    if (drawerMutationObserver) {\n                        clearInterval(drawerObserverPoll);\n                        return;\n                    }\n                    startDrawerObserver();\n                    if (drawerMutationObserver) {\n                        clearInterval(drawerObserverPoll);\n                    }\n                }, 250);\n                \n                // Get search history\n                function getSearchHistory() {\n                    const history = localStorage.getItem(SEARCH_HISTORY_KEY);\n                    return history ? JSON.parse(history) : [];\n                }\n                \n                // Save search to history\n                function saveSearchToHistory(query) {\n                    const normalizedQuery = sanitizeQuery(query);\n                    if (!normalizedQuery) {\n                        return;\n                    }\n                    let history = getSearchHistory();\n                    // Remove if already exists\n                    history = history.filter(item => item !== normalizedQuery);\n                    // Add to beginning\n                    history.unshift(normalizedQuery);\n                    // Keep only last MAX_SEARCH_HISTORY items\n                    history = history.slice(0, MAX_SEARCH_HISTORY);\n                    localStorage.setItem(SEARCH_HISTORY_KEY, JSON.stringify(history));\n                }\n                \n                // Clear search history\n                function clearSearchHistory() {\n                    localStorage.removeItem(SEARCH_HISTORY_KEY);\n                    const pillsContainer = document.querySelector('.search-history-pills');\n                    if (pillsContainer) {\n                        pillsContainer.remove();\n                    }\n                }\n                \n                // Create or update pills container\n                function updatePillsContainer() {\n                    const history = getSearchHistory();\n                    \n                    // Remove existing pills container\n                    removeElements('.search-history-pills');\n                    \n                    // Remove any existing empty state from results area\n                    removeElements('.search-empty-state');\n                    \n                    // Only show if input is empty\n                    const hasQuery = sanitizeQuery(searchInput.value).length > 0;\n                    if (hasQuery) {\n                        return;\n                    }\n                    \n                    hasActiveQuery = false;\n                    hideNoResultsState();\n                    \n                    startDrawerObserver();\n                    \n                    // Wait for drawer to exist\n                    const drawer = document.querySelector('.pagefind-ui__drawer');\n                    if (!drawer) {\n                        return; // Drawer not available yet\n                    }\n                    \n                    // Show pills if history exists\n                    if (history.length > 0) {\n                        const pillsContainer = document.createElement('div');\n                        pillsContainer.className = 'search-history-pills';\n                    \n                    // Create header with title and clear button\n                    const header = document.createElement('div');\n                    header.className = 'search-history-header';\n                    \n                    const title = document.createElement('div');\n                    title.className = 'search-history-title';\n                    title.textContent = 'Recent searches';\n                    header.appendChild(title);\n                    \n                    const clearButton = document.createElement('button');\n                    clearButton.className = 'search-history-clear';\n                    clearButton.textContent = 'Clear all';\n                    clearButton.setAttribute('type', 'button');\n                    clearButton.addEventListener('click', function(e) {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        clearSearchHistory();\n                    });\n                    header.appendChild(clearButton);\n                    \n                    pillsContainer.appendChild(header);\n                    \n                    const pillsWrapper = document.createElement('div');\n                    pillsWrapper.className = 'search-history-pills-wrapper';\n                    \n                    history.forEach(function(term) {\n                        const pill = document.createElement('button');\n                        pill.className = 'search-history-pill';\n                        pill.textContent = term;\n                        pill.setAttribute('type', 'button');\n                        pill.addEventListener('click', function(e) {\n                            e.preventDefault();\n                            e.stopPropagation();\n                            searchInput.value = term;\n                            searchInput.dispatchEvent(new Event('input', { bubbles: true }));\n                            searchInput.focus();\n                        });\n                        pillsWrapper.appendChild(pill);\n                    });\n                    \n                    pillsContainer.appendChild(pillsWrapper);\n                        \n                        // Insert pills at the top of the drawer\n                        drawer.insertBefore(pillsContainer, drawer.firstChild);\n                    }\n                    \n                    // Show empty state in the results area (always shown, even with history)\n                    // Poll for the results area with retries\n                    let attempts = 0;\n                    const maxAttempts = 20;\n                    const checkInterval = setInterval(function() {\n                        attempts++;\n                        const resultsArea = drawer.querySelector('.pagefind-ui__results-area');\n                        \n                        if (resultsArea || attempts >= maxAttempts) {\n                            clearInterval(checkInterval);\n                            \n                            if (resultsArea) {\n                                // Hide/remove the Pagefind \"No results\" message\n                                const pagefindMessage = resultsArea.querySelector('.pagefind-ui__message');\n                                if (pagefindMessage) {\n                                    pagefindMessage.style.display = 'none';\n                                }\n                                \n                                // Create and inject empty state\n                                const emptyState = document.createElement('div');\n                                emptyState.className = 'search-empty-state';\n                                emptyState.innerHTML = `\n                                    <div class=\"search-empty-state__icon\">üîç</div>\n                                    <div class=\"search-empty-state__title\">Start searching</div>\n                                    <div class=\"search-empty-state__description\">Type a keyword or phrase to search through the Uno Platform documentation</div>\n                                `;\n                                resultsArea.appendChild(emptyState);\n                            }\n                        }\n                    }, 50); // Check every 50ms\n                }\n                \n                // Show pills or empty state on focus\n                searchInput.addEventListener('focus', function() {\n                    // If input is empty, show drawer with pills or empty state\n                    if (!sanitizeQuery(searchInput.value)) {\n                        hasActiveQuery = false;\n                        hideNoResultsState();\n                        // Trigger empty search to open drawer without visible text\n                        const originalValue = searchInput.value;\n                        \n                        // Use a zero-width space to trigger drawer without showing results\n                        searchInput.value = ZERO_WIDTH_SPACE;\n                        searchInput.dispatchEvent(new Event('input', { bubbles: true }));\n                        \n                        // Wait a moment for drawer to potentially appear\n                        setTimeout(function() {\n                            // Restore original empty value\n                            searchInput.value = originalValue;\n                            \n                            // Check for drawer and show pills\n                            const checkDrawer = setInterval(function() {\n                                const drawer = document.querySelector('.pagefind-ui__drawer');\n                                if (drawer) {\n                                    clearInterval(checkDrawer);\n                                    startDrawerObserver();\n                                    updatePillsContainer();\n                                    scheduleNoResultsEvaluation();\n                                }\n                            }, 50);\n                            \n                            // Stop checking after 1 second\n                            setTimeout(function() { clearInterval(checkDrawer); }, 1000);\n                        }, 10);\n                    }\n                });\n                \n                // Hide pills and empty state when typing\n                searchInput.addEventListener('input', function() {\n                    const normalizedQuery = sanitizeQuery(searchInput.value);\n                    \n                    hasActiveQuery = normalizedQuery.length > 0;\n                    \n                    if (hasActiveQuery) {\n                        // Hide pills and empty state when there's a query\n                        removeElements('.search-history-pills');\n                        removeElements('.search-empty-state');\n                        hideNoResultsState();\n                    } else {\n                        // Show appropriate state when query is cleared\n                        hideNoResultsState();\n                        updatePillsContainer();\n                    }\n\n                    scheduleNoResultsEvaluation();\n                });\n                \n                // Save search on blur if there's a value\n                searchInput.addEventListener('blur', function() {\n                    const query = sanitizeQuery(searchInput.value);\n                    if (query) {\n                        saveSearchToHistory(query);\n                    }\n                });\n            }\n        }, 100);\n        \n        // Clear initialization check after 5 seconds to avoid memory leak\n        setTimeout(function() {\n            clearInterval(initializeSearchKeywords);\n        }, 5000);\n    },\n    false\n);\n\n"],"names":["document","addEventListener","initializeNavbar","CACHE_KEY","let","cachedDataDisplayed","cached","localStorage","getItem","cachedData","JSON","parse","Date","now","timestamp","updateVersionDisplay","stable","dev","e","latestStableVersion","latestDevVersion","versionElement","querySelector","badgeElement","textContent","newBadge","cloneNode","parentNode","replaceChild","title","style","cursor","preventDefault","existingModal","getElementById","remove","modal","createElement","id","overlay","content","className","header","headerTitle","closeBtn","body","type","setAttribute","appendChild","stableCommand","devCommand","createVersionSection","devSection","devNote","noteStrong","nugetLink","createTextNode","tipNote","href","target","rel","tipStrong","br","tipCode","previouslyFocusedElement","activeElement","closeButton","focus","focusableSelectors","icon","version","description","command","section","h4","versionLabel","strong","codeBlock","code","copyBtn","closeModal","removeEventListener","onKeyDown","contains","firstElement","lastElement","isShift","current","key","focusableElements","Array","from","querySelectorAll","filter","el","hasAttribute","getAttribute","length","shiftKey","classList","forEach","btn","text","this","button","showCopiedState","originalText","add","setTimeout","navigator","clipboard","writeText","then","catch","err","console","error","textarea","value","position","left","select","successful","execCommand","execErr","warn","removeChild","fetch","r","json","data","versions","stableVersions","v","includes","devVersions","setItem","stringify","log","t","window","innerWidth","matches","stopImmediatePropagation","parentElement","toggle","searchContainer","pagefindDrawer","offsetParent","searchInput","dispatchEvent","Event","bubbles","SEARCH_HISTORY_KEY","initializeSearchKeywords","setInterval","clearInterval","MIN_TOKEN_LENGTH","MAX_RESULTS_TO_CHECK","hasActiveQuery","pendingNoResultsUpdate","drawerMutationObserver","removeElements","selector","root","scope","element","sanitizeQuery","replace","trim","getResultsArea","drawer","hideNoResultsState","loadMoreButton","resultsArea","resultsList","removeProperty","removeAttribute","message","updateNoResultsState","normalizedQuery","visibleResults","item","tokens","toLowerCase","split","map","token","hasMatchingHighlight","i","marks","mark","innerText","query","emptyState","intro","querySpan","outro","queryTarget","display","scheduleNoResultsEvaluation","startDrawerObserver","cancelAnimationFrame","requestAnimationFrame","MutationObserver","observe","childList","subtree","characterData","drawerObserverPoll","getSearchHistory","history","updatePillsContainer","hasQuery","pillsContainer","clearButton","stopPropagation","removeItem","pillsWrapper","term","pill","insertBefore","firstChild","attempts","checkInterval","pagefindMessage","innerHTML","originalValue","checkDrawer","saveSearchToHistory","unshift","slice"],"mappings":"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"}