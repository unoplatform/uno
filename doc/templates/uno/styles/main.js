document.addEventListener("DOMContentLoaded",function(){initializeNavbar();const n="uno_sdk_versions";let a=!1;var e=localStorage.getItem(n);let t=null;if(e)try{t=JSON.parse(e),Date.now()-t.timestamp<36e5?(o(t.stable,t.dev),a=!0):t=null}catch(e){t=null}function o(p,v){var e=document.querySelector(".sdk-version"),t=document.querySelector(".sdk-version-badge");e&&(e.textContent=p||"Version unavailable",t)&&(e=t.cloneNode(!0),t.parentNode.replaceChild(e,t),e.title=`Latest stable: ${p}
Latest dev: ${v}
Click to see update instructions`,e.style.cursor="pointer",e.addEventListener("click",function(e){e.preventDefault();e=document.getElementById("sdk-update-modal");if(e)e.remove();else{const s=document.createElement("div");s.id="sdk-update-modal";var e=document.createElement("div"),t=(e.className="sdk-modal-overlay",document.createElement("div")),n=(t.className="sdk-modal-content",document.createElement("div")),a=(n.className="sdk-modal-header",document.createElement("h3")),o=(a.textContent="Update Uno SDK",document.createElement("button")),a=(o.className="sdk-modal-close",o.type="button",o.setAttribute("aria-label","Close update dialog"),o.textContent="Ã—",n.appendChild(a),n.appendChild(o),document.createElement("div")),o=(a.className="sdk-modal-body",p?"dotnet new install Uno.Templates::"+p:null),o=(a.appendChild(c("ðŸ“¦","Latest Stable Version",p,"Recommended for production",o)),v?"dotnet new install Uno.Templates::"+v:null),o=c("ðŸš€","Latest Dev Version",v,"Preview features & fixes",o),l=document.createElement("p"),d=(l.className="sdk-note",l.textContent="ðŸ“ ",document.createElement("strong")),d=(d.textContent="NuGet Package:",l.appendChild(d),l.appendChild(document.createTextNode(" ")),document.createElement("a")),d=(d.href="https://www.nuget.org/packages/Uno.Templates",d.target="_blank",d.rel="noopener",d.textContent="Uno.Templates on NuGet.org",l.appendChild(d),o.appendChild(l),a.appendChild(o),a.appendChild(c("â„¹ï¸","Check Installed Version",null,null,"dotnet new details Uno.Templates")),document.createElement("p")),l=(d.className="sdk-note",d.textContent="ðŸ’¡ ",document.createElement("strong")),o=(l.textContent="Tip:",d.appendChild(l),d.appendChild(document.createTextNode(" If you have an older version installed, uninstall it first using:")),document.createElement("br")),l=(d.appendChild(o),document.createElement("code"));l.textContent="dotnet new uninstall Uno.Templates",d.appendChild(l),a.appendChild(d),t.appendChild(n),t.appendChild(a),e.appendChild(t),s.appendChild(e);const u=document.activeElement;document.body.appendChild(s);o=s.querySelector(".sdk-modal-close");o&&"function"==typeof o.focus&&o.focus();const m='a[href], button:not([disabled]), textarea, input[type="text"], input[type="radio"], input[type="checkbox"], select, [tabindex]:not([tabindex="-1"])';function c(e,t,n,a,o){var l=document.createElement("div"),d=(l.className="sdk-version-section",document.createElement("h4"));return d.textContent=e+" "+t,l.appendChild(d),(n||a)&&((e=document.createElement("p")).className="version-label",n&&((t=document.createElement("strong")).textContent=n,e.appendChild(t)),a&&e.appendChild(document.createTextNode(n?" - "+a:a)),l.appendChild(e)),o&&((d=document.createElement("div")).className="sdk-code-block",(t=document.createElement("code")).textContent=o,(n=document.createElement("button")).className="sdk-copy-btn",n.setAttribute("data-clipboard",o),n.textContent="Copy",d.appendChild(t),d.appendChild(n),l.appendChild(d)),l}function r(){s.remove(),document.removeEventListener("keydown",i),u&&document.contains(u)&&"function"==typeof u.focus&&u.focus()}function i(e){var t,n,a,o;"Escape"===e.key||"Esc"===e.key?(e.preventDefault(),r()):"Tab"===e.key&&(n=Array.from(s.querySelectorAll(m)).filter(e=>!e.hasAttribute("disabled")&&"true"!==e.getAttribute("aria-hidden"))).length&&(t=n[0],n=n[n.length-1],a=e.shiftKey,o=document.activeElement,a||o!==n?a&&o===t&&(e.preventDefault(),n.focus()):(e.preventDefault(),t.focus()))}document.addEventListener("keydown",i),o&&o.addEventListener("click",()=>r()),s.querySelector(".sdk-modal-overlay").addEventListener("click",e=>{e.target.classList.contains("sdk-modal-overlay")&&r()}),s.querySelectorAll(".sdk-copy-btn").forEach(e=>{e.addEventListener("click",function(){var t=this.getAttribute("data-clipboard");const n=this;var a=()=>{const e=n.textContent;n.textContent="Copied!",n.classList.add("copied"),setTimeout(()=>{n.textContent=e,n.classList.remove("copied")},2e3)};if(navigator.clipboard&&"function"==typeof navigator.clipboard.writeText)navigator.clipboard.writeText(t).then(a).catch(e=>{console.error("Failed to copy to clipboard using navigator.clipboard:",e)});else try{var o=document.createElement("textarea");o.value=t,o.setAttribute("readonly",""),o.style.position="absolute",o.style.left="-9999px",document.body.appendChild(o),o.select();let e=!1;try{e=document.execCommand&&document.execCommand("copy")}catch(e){console.warn("document.execCommand copy failed:",e)}document.body.removeChild(o),e?a():console.warn("Fallback copy to clipboard was not successful.")}catch(e){console.error("Fallback copy to clipboard failed:",e)}})})}}))}fetch("https://api.nuget.org/v3-flatcontainer/uno.templates/index.json").then(e=>e.json()).then(e=>{var t;e.versions&&(t=0<(t=(e=e.versions).filter(e=>!e.includes("-dev"))).length?t[t.length-1]:null,e=0<(e=e.filter(e=>e.includes("-dev"))).length?e[e.length-1]:null,null===t&&null===e||(localStorage.setItem(n,JSON.stringify({stable:t,dev:e,timestamp:Date.now()})),o(t,e)))}).catch(e=>{var t;console.log("Could not fetch SDK version:",e),a||(e=document.querySelector(".sdk-version"),t=document.querySelector(".sdk-version-badge"),e&&(e.textContent="Version unavailable"),t&&t.classList.add("sdk-version-badge-error"))}),document.addEventListener("click",function(e){var t=e.target;1024<=window.innerWidth||!t.matches("#navbar .menu-item-has-children a")||(e.stopImmediatePropagation(),t.parentElement.classList.toggle("open"))},!0),document.addEventListener("click",function(e){var t=document.querySelector("#search"),n=document.querySelector(".pagefind-ui__drawer");t&&n&&null!==n.offsetParent&&!t.contains(e.target)&&(n=t.querySelector(".pagefind-ui__search-input"))&&(n.value="",n.dispatchEvent(new Event("input",{bubbles:!0})))},!0);const l="uno_search_history",r=setInterval(function(){const d=document.querySelector(".pagefind-ui__search-input");var e=document.querySelector("#search");function c(){var e=localStorage.getItem(l);return e?JSON.parse(e):[]}d&&e&&(clearInterval(r),d.addEventListener("focus",function(){if(!d.value.trim()&&0<c().length){const e=d.value;d.value="â€‹",d.dispatchEvent(new Event("input",{bubbles:!0})),setTimeout(function(){d.value=e;const l=setInterval(function(){if(document.querySelector(".pagefind-ui__drawer")){clearInterval(l);var e=c(),t=document.querySelector(".search-history-pills");if(t&&t.remove(),0!==e.length&&!d.value.trim()){t=document.querySelector(".pagefind-ui__drawer");if(t){var n=document.createElement("div"),a=(n.className="search-history-pills",document.createElement("div"));a.className="search-history-title",a.textContent="Recent searches",n.appendChild(a);const o=document.createElement("div");o.className="search-history-pills-wrapper",e.forEach(function(t){var e=document.createElement("button");e.className="search-history-pill",e.textContent=t,e.setAttribute("type","button"),e.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),d.value=t,d.dispatchEvent(new Event("input",{bubbles:!0})),d.focus()}),o.appendChild(e)}),n.appendChild(o),t.insertBefore(n,t.firstChild)}}}},50);setTimeout(function(){clearInterval(l)},1e3)},10)}}),d.addEventListener("input",function(){var e=d.value.trim(),t=document.querySelector(".search-history-pills");t&&e&&t.remove()}),d.addEventListener("blur",function(){var t=d.value.trim();if(t){var n=t;let e=c();(e=e.filter(e=>e!==n)).unshift(n),e=e.slice(0,5),localStorage.setItem(l,JSON.stringify(e))}}))},100);setTimeout(function(){clearInterval(r)},5e3)},!1);
//# sourceMappingURL=main.js.map
