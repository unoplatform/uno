parameters:
  UnoCheckParameters: ''

steps:
  - task: PowerShell@2
    displayName: Install Previous .NET Wasm Workloads
    inputs:
      pwsh: true
      targetType: inline
      script: |
        $ErrorActionPreference = 'Stop'
        $args = @('workload', 'install', 'wasm-tools-net9')
        if ($IsWindows) {
          & dotnet @args
        }
        else {
          $envArgs = @("DOTNET_ROOT=$env:DOTNET_ROOT")
          sudo env @envArgs dotnet @args
        }
    retryCountOnTaskFailure: 3
    env:
      DOTNET_ROOT: $(DOTNET_ROOT)
