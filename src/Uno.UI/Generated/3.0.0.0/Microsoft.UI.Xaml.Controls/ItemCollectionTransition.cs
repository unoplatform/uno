// <auto-generated>
// *** THIS FILE HAS BEEN MODIFIED TO PROVIDE IMPLEMENTATIONS ***
// This file was originally auto-generated but has been updated to provide real implementations
// for the ItemCollectionTransition system (tag winui3/release/1.8.4).
#pragma warning disable 108 // new keyword hiding
#pragma warning disable 114 // new keyword hiding

using System;
using Windows.Foundation;
using static Microsoft.UI.Xaml.Controls._Tracing;

namespace Microsoft.UI.Xaml.Controls
{
#if __ANDROID__ || __IOS__ || __TVOS__ || IS_UNIT_TESTS || __WASM__ || __SKIA__ || __NETSTD_REFERENCE__
	public partial class ItemCollectionTransition
	{
		private readonly WeakReference<ItemCollectionTransitionProvider> m_owningProvider;
		private readonly WeakReference<UIElement> m_element;
		private readonly ItemCollectionTransitionOperation m_operation;
		private readonly ItemCollectionTransitionTriggers m_triggers;
		private readonly Rect m_oldBounds;
		private readonly Rect m_newBounds;
		private ItemCollectionTransitionProgress m_progress;

#if __ANDROID__ || __IOS__ || __TVOS__ || IS_UNIT_TESTS || __WASM__ || __SKIA__ || __NETSTD_REFERENCE__
		internal ItemCollectionTransition()
		{
			// Default parameterless constructor for compatibility
			m_owningProvider = new WeakReference<ItemCollectionTransitionProvider>(null);
			m_element = new WeakReference<UIElement>(null);
		}
#endif

		/// <summary>
		/// Creates an ItemCollectionTransition for Add or Remove operations.
		/// </summary>
		internal ItemCollectionTransition(
			ItemCollectionTransitionProvider owningProvider,
			UIElement element,
			ItemCollectionTransitionOperation operation,
			ItemCollectionTransitionTriggers triggers)
			: this(owningProvider, element, operation, triggers, default, default)
		{
			MUX_ASSERT(operation != ItemCollectionTransitionOperation.Move);
		}

		/// <summary>
		/// Creates an ItemCollectionTransition for Move operations.
		/// </summary>
		internal ItemCollectionTransition(
			ItemCollectionTransitionProvider owningProvider,
			UIElement element,
			ItemCollectionTransitionTriggers triggers,
			Rect oldBounds,
			Rect newBounds)
			: this(owningProvider, element, ItemCollectionTransitionOperation.Move, triggers, oldBounds, newBounds)
		{
		}

		private ItemCollectionTransition(
			ItemCollectionTransitionProvider owningProvider,
			UIElement element,
			ItemCollectionTransitionOperation operation,
			ItemCollectionTransitionTriggers triggers,
			Rect oldBounds,
			Rect newBounds)
		{
			m_owningProvider = new WeakReference<ItemCollectionTransitionProvider>(owningProvider);
			m_element = new WeakReference<UIElement>(element);
			m_operation = operation;
			m_triggers = triggers;
			m_oldBounds = oldBounds;
			m_newBounds = newBounds;
		}

#if __ANDROID__ || __IOS__ || __TVOS__ || IS_UNIT_TESTS || __WASM__ || __SKIA__ || __NETSTD_REFERENCE__
		public bool HasStarted => m_progress != null;
#endif
#if __ANDROID__ || __IOS__ || __TVOS__ || IS_UNIT_TESTS || __WASM__ || __SKIA__ || __NETSTD_REFERENCE__
		public global::Windows.Foundation.Rect NewBounds => m_newBounds;
#endif
#if __ANDROID__ || __IOS__ || __TVOS__ || IS_UNIT_TESTS || __WASM__ || __SKIA__ || __NETSTD_REFERENCE__
		public global::Windows.Foundation.Rect OldBounds => m_oldBounds;
#endif
#if __ANDROID__ || __IOS__ || __TVOS__ || IS_UNIT_TESTS || __WASM__ || __SKIA__ || __NETSTD_REFERENCE__
		public global::Microsoft.UI.Xaml.Controls.ItemCollectionTransitionOperation Operation => m_operation;
#endif
#if __ANDROID__ || __IOS__ || __TVOS__ || IS_UNIT_TESTS || __WASM__ || __SKIA__ || __NETSTD_REFERENCE__
		public global::Microsoft.UI.Xaml.Controls.ItemCollectionTransitionTriggers Triggers => m_triggers;
#endif

		/// <summary>
		/// Gets the element associated with this transition.
		/// </summary>
		internal UIElement Element => m_element.TryGetTarget(out var element) ? element : null;

		/// <summary>
		/// Gets the owning transition provider.
		/// </summary>
		internal ItemCollectionTransitionProvider OwningProvider =>
			m_owningProvider.TryGetTarget(out var provider) ? provider : null;

		// Forced skipping of method Microsoft.UI.Xaml.Controls.ItemCollectionTransition.Operation.get
		// Forced skipping of method Microsoft.UI.Xaml.Controls.ItemCollectionTransition.Triggers.get
		// Forced skipping of method Microsoft.UI.Xaml.Controls.ItemCollectionTransition.OldBounds.get
		// Forced skipping of method Microsoft.UI.Xaml.Controls.ItemCollectionTransition.NewBounds.get
		// Forced skipping of method Microsoft.UI.Xaml.Controls.ItemCollectionTransition.HasStarted.get

#if __ANDROID__ || __IOS__ || __TVOS__ || IS_UNIT_TESTS || __WASM__ || __SKIA__ || __NETSTD_REFERENCE__
		public global::Microsoft.UI.Xaml.Controls.ItemCollectionTransitionProgress Start()
		{
			if (m_progress == null)
			{
				m_progress = new ItemCollectionTransitionProgress(this);
			}

			return m_progress;
		}
#endif
	}
#endif
}
