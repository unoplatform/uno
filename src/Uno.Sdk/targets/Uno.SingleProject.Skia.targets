<Project>
	<PropertyGroup>
		<ApplicationManifest Condition="$(ApplicationManifest) == ''">$(SkiaProjectFolder)app.manifest</ApplicationManifest>
	</PropertyGroup>
	<ItemGroup>
		<EmbeddedResource Include="$(SkiaProjectFolder)Package.appxmanifest"
			Condition="Exists('$(SkiaProjectFolder)Package.appxmanifest')"
			Exclude="@(EmbeddedResource)"
			IsDefaultItem="true"
			Link="$([MSBuild]::MakeRelative ('$(MSBuildProjectDirectory)', '%(Identity)'))" />
		<Manifest Include="$(SkiaProjectFolder)$(ApplicationManifest)"
			Condition="Exists('$(SkiaProjectFolder)$(ApplicationManifest)')"
			Exclude="@(Manifest)"
			IsDefaultItem="true"
			Link="$([MSBuild]::MakeRelative ('$(MSBuildProjectDirectory)', '%(Identity)'))" />
	</ItemGroup>

	<ItemGroup Condition="$(PlatformsProjectFolder) != '' and Exists($(PlatformsProjectFolder))">
		<_TargetPlatformFiles Include="$([System.IO.Path]::Combine('$(SkiaProjectFolder)', '**', '*'))" />
		<_AllPlatformFiles Include="$([System.IO.Path]::Combine('$(PlatformsProjectFolder)', '**', '*'))" />
		<_IgnorePlatformFiles Include="@(_AllPlatformFiles)" Exclude="@(_TargetPlatformFiles)" />
		<Compile Remove="@(_IgnorePlatformFiles)" />
		<Content Remove="@(_IgnorePlatformFiles)" />
		<EmbeddedResource Remove="@(_IgnorePlatformFiles)" />
		<Manifest Remove="@(_IgnorePlatformFiles)" />
	</ItemGroup>
</Project>
