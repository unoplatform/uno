<UserControl
    x:Class="Uno.UI.Samples.Controls.SampleChooserControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:converters="using:Uno.UI.Samples.Converters"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:entities="using:SampleControl.Entities"
    xmlns:helper="using:Uno.UI.Samples.Behaviors"
    xmlns:ios="http://umbrella/ios"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:not_ios="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:not_win="http://uno.ui/not_win"
    xmlns:toolkit="using:Uno.UI.Toolkit"
    xmlns:u="using:Uno.UI.Samples.Controls"
    xmlns:ub="using:Uno.UI.Samples.Behaviors"
    xmlns:uc="using:Uno.UI.Samples.Converters"
    xmlns:win="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    d:DesignHeight="300"
    d:DesignWidth="400"
    mc:Ignorable="d ios not_win">

    <UserControl.Resources>
        <ResourceDictionary>
            <!--  Merged Dictionaries  -->
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="../Styles/Application/_Application.xaml" />
                <ResourceDictionary Source="../Styles/Controls/_Controls.xaml" />
                <ResourceDictionary Source="../Styles/SampleControl.xaml" />
            </ResourceDictionary.MergedDictionaries>

            <Thickness x:Key="NavIconMargin">0,0,0,4</Thickness>
            <x:Double x:Key="TitleContainerHeight">45</x:Double>

            <uc:FromNullableBoolToReverseBoolConverter x:Key="reverseBoolConverter" />

            <!--  Styles  -->
            <Style x:Key="BaseTitleGridContainerStyle" TargetType="Grid">
                <Setter Property="Margin" Value="4" />
                <Setter Property="Background" Value="{ThemeResource NavigationViewExpandedPaneBackground}" />
            </Style>

            <Style x:Key="BaseTitleContainerStyle" TargetType="Border">
                <Setter Property="HorizontalAlignment" Value="Stretch" />
            </Style>

            <Style
                x:Key="NarrowTitleContainerStyle"
                BasedOn="{StaticResource BaseTitleContainerStyle}"
                TargetType="Border">
                <Setter Property="Padding" Value="0,25,0,10" />
            </Style>

            <Style
                x:Key="WideTitleContainerStyle"
                BasedOn="{StaticResource BaseTitleContainerStyle}"
                TargetType="Border">
                <Setter Property="MinHeight" Value="{StaticResource TitleContainerHeight}" />
            </Style>

            <Style x:Key="TemplateContainerStyle" TargetType="Border">
                <Setter Property="Margin" Value="4,0,4,0" />
                <Setter Property="Padding" Value="8" />
                <Setter Property="MinHeight" Value="40" />
            </Style>

            <!--  Data Templates  -->
            <DataTemplate x:Key="CategoriesTemplate">
                <Border Style="{StaticResource TemplateContainerStyle}">
                    <u:StarStackPanel Orientation="Horizontal" Sizes="*,Auto,Auto">
                        <TextBlock
                            VerticalAlignment="Center"
                            Style="{StaticResource Typo03}"
                            TextTrimming="CharacterEllipsis"
                            TextWrapping="NoWrap">
                            <Run Text="{Binding Category}" />
                        </TextBlock>
                        <TextBlock
                            Margin="8,0"
                            VerticalAlignment="Center"
                            FontSize="11"
                            Opacity="0.8"
                            Text="{Binding Count}" />
                        <FontIcon
                            HorizontalAlignment="Right"
                            VerticalAlignment="Center"
                            FontSize="11"
                            Glyph="&#xE76C;"
                            Opacity="0.8" />
                    </u:StarStackPanel>
                </Border>
            </DataTemplate>

            <DataTemplate x:Key="SampleTemplate">
                <Border Style="{StaticResource TemplateContainerStyle}">
                    <u:StarStackPanel Orientation="Horizontal" Sizes="*,Auto,Auto">
                        <TextBlock
                            VerticalAlignment="Center"
                            Style="{StaticResource Typo03}"
                            Text="{Binding ControlName}"
                            TextTrimming="CharacterEllipsis"
                            TextWrapping="NoWrap" />

                        <u:PathControl
                            HorizontalContentAlignment="Right"
                            VerticalContentAlignment="Center"
                            Style="{StaticResource Icon_Favorite_Full}"
                            Visibility="{Binding IsFavorite, Converter={StaticResource TrueToVisible}}" />
                    </u:StarStackPanel>
                </Border>
            </DataTemplate>

            <DataTemplate x:Key="CategoriesList">
                <ListView
                    helper:ListViewBaseCommand.Command="{Binding ShowNewSectionCommand}"
                    helper:ListViewBaseCommand.CommandParameter="Samples"
                    ItemContainerStyle="{StaticResource SampleChooserListViewItemStyle}"
                    ItemTemplate="{StaticResource CategoriesTemplate}"
                    ItemsSource="{Binding Categories}"
                    SelectedItem="{Binding SelectedCategory, Mode=TwoWay}"
                    Style="{StaticResource StretchedListViewStyle}" />
            </DataTemplate>

            <DataTemplate x:Key="SamplesList">
                <ListView
                    helper:ListViewBaseCommand.Command="{Binding ShowNewSectionCommand}"
                    helper:ListViewBaseCommand.CommandParameter="SamplesContent"
                    ub:SplitViewBehavior.CloseOnClick="True"
                    ItemContainerStyle="{StaticResource SampleChooserListViewItemStyle}"
                    ItemTemplate="{StaticResource SampleTemplate}"
                    ItemsSource="{Binding SampleContents}"
                    SelectedItem="{Binding SelectedLibrarySample, Mode=TwoWay}"
                    Style="{StaticResource StretchedListViewStyle}" />
            </DataTemplate>

            <DataTemplate x:Key="FavoritesList">
                <ListView
                    helper:ListViewBaseCommand.Command="{Binding ShowNewSectionCommand}"
                    helper:ListViewBaseCommand.CommandParameter="FavoritesContent"
                    ub:SplitViewBehavior.CloseOnClick="True"
                    ItemContainerStyle="{StaticResource SampleChooserListViewItemStyle}"
                    ItemTemplate="{StaticResource SampleTemplate}"
                    ItemsSource="{Binding FavoriteSamples}"
                    SelectedItem="{Binding SelectedFavoriteSample, Mode=TwoWay}"
                    Style="{StaticResource StretchedListViewStyle}" />
            </DataTemplate>

            <DataTemplate x:Key="RecentSamplesList">
                <ListView
                    helper:ListViewBaseCommand.Command="{Binding ShowNewSectionCommand}"
                    helper:ListViewBaseCommand.CommandParameter="RecentsContent"
                    ub:SplitViewBehavior.CloseOnClick="True"
                    ItemContainerStyle="{StaticResource SampleChooserListViewItemStyle}"
                    ItemTemplate="{StaticResource SampleTemplate}"
                    ItemsSource="{Binding RecentSamples}"
                    SelectedItem="{Binding SelectedRecentSample, Mode=TwoWay}"
                    Style="{StaticResource StretchedListViewStyle}" />
            </DataTemplate>

            <DataTemplate x:Key="SearchList">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>

                    <TextBox
                        Margin="8"
                        KeyDown="OnSearchEnterKey_KeyDown"
                        PlaceholderText="Search"
                        Style="{StaticResource SearchTextBoxStyle}"
                        Text="{Binding SearchTerm, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />

                    <ListView
                        Grid.Row="1"
                        helper:ListViewBaseCommand.Command="{Binding ShowNewSectionCommand}"
                        helper:ListViewBaseCommand.CommandParameter="SearchContent"
                        ub:SplitViewBehavior.CloseOnClick="True"
                        ItemContainerStyle="{StaticResource SampleChooserListViewItemStyle}"
                        ItemTemplate="{StaticResource SampleTemplate}"
                        ItemsSource="{Binding FilteredSamples}"
                        SelectedItem="{Binding SelectedSearchSample, Mode=TwoWay}"
                        Style="{StaticResource StretchedListViewStyle}" />
                </Grid>
            </DataTemplate>

            <DataTemplate x:Key="SamplesTitle">
                <Grid Style="{StaticResource BaseTitleGridContainerStyle}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="50" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="50" />
                    </Grid.ColumnDefinitions>

                    <Button
                        Margin="8,0,0,0"
                        HorizontalContentAlignment="Left"
                        Command="{Binding ShowPreviousSectionCommand}"
                        Style="{StaticResource IconButtonStyle}">
                        <StackPanel Orientation="Horizontal">
                            <FontIcon
                                FontSize="14"
                                Foreground="{ThemeResource AccentFillColorDefaultBrush}"
                                Glyph="&#xE72B;" />
                        </StackPanel>
                    </Button>

                    <TextBlock
                        Grid.Column="1"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Style="{StaticResource Typo03}"
                        Text="{Binding SelectedCategory.Category}"
                        TextAlignment="Center"
                        TextWrapping="NoWrap" />
                </Grid>
            </DataTemplate>

        </ResourceDictionary>
    </UserControl.Resources>

    <Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
        <SplitView
            x:Name="SplitView"
            DisplayMode="Overlay"
            IsPaneOpen="{Binding IsSplitVisible, Mode=TwoWay}"
            OpenPaneLength="280">
            <SplitView.Pane>
                <Grid toolkit:VisibleBoundsPadding.PaddingMask="All" Background="{ThemeResource SystemControlBackgroundAltMediumLowBrush}">

                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <!--  LIBRARY (Categories)  -->
                    <Grid Style="{StaticResource BaseTitleGridContainerStyle}" Visibility="{Binding CategoryVisibility, Converter={StaticResource TrueToVisible}}">

                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>

                        <!--  Runtime tests button  -->
                        <Button
                            HorizontalAlignment="Right"
                            VerticalAlignment="Center"
                            Command="{Binding OpenRuntimeTestsCommand}"
                            Style="{StaticResource IconButtonStyle}">
                            <Button.KeyboardAccelerators>
                                <KeyboardAccelerator Key="T" Modifiers="Control" Invoked="RuntimeTestsAccelerator_Invoked" />
                            </Button.KeyboardAccelerators>
                            <u:PathControl Margin="5,0" Style="{StaticResource Icon_RuntimeTests}" />
                        </Button>

                        <!--  Playground button  -->
                        <Button
                            Grid.Column="1"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Center"
                            Command="{Binding OpenPlaygroundCommand}"
                            Foreground="{ThemeResource AccentFillColorDefaultBrush}"
                            Style="{StaticResource IconButtonStyle}">
                            <Button.KeyboardAccelerators>
                                <KeyboardAccelerator Key="P" Modifiers="Control" Invoked="PlaygroundAccelerator_Invoked" />
                            </Button.KeyboardAccelerators>
                            <FontIcon Glyph="&#xE7FC;" />
                        </Button>

                        <!--  Title  -->
                        <StackPanel Grid.Column="2" VerticalAlignment="Center">
                            <Image
                                Width="32"
                                Margin="0,0,0,2"
                                Source="ms-appx:///Assets/AppLogoSmall.png" />
                            <TextBlock
                                HorizontalAlignment="Center"
                                FontSize="10"
                                FontWeight="Bold"
                                Text="{Binding TargetPlatform}" />
                            <TextBlock
                                HorizontalAlignment="Center"
                                FontSize="9"
                                Opacity="0.8"
                                Text="{Binding RepositoryPath}"
                                TextTrimming="CharacterEllipsis" />
                        </StackPanel>

                        <Button
                            Grid.Column="3"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Center"
                            Command="{Binding CreateNewWindowCommand}"
                            Foreground="{ThemeResource AccentFillColorDefaultBrush}"
                            Style="{StaticResource IconButtonStyle}">
                            <FontIcon Glyph="&#xE8A7;" />
                        </Button>

                        <!--  Record All Tests Button  -->
                        <Button
                            Grid.Column="4"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Center"
                            Command="{Binding RecordAllTestsCommand}"
                            Style="{StaticResource IconButtonStyle}">
                            <u:PathControl Margin="5,0" Style="{StaticResource Icon_RunAll}" />
                        </Button>
                    </Grid>

                    <!--  Search  -->
                    <StackPanel
                        Grid.Row="1"
                        Padding="4"
                        IsTabStop="True"
                        Spacing="4">
                        <AutoSuggestBox
                            x:Name="SearchBox"
                            HorizontalAlignment="Stretch"
                            ItemsSource="{Binding FilteredSamples}"
                            PlaceholderText="Search..."
                            QueryIcon="Find"
                            QuerySubmitted="SearchBox_QuerySubmitted"
                            SuggestionChosen="SearchBox_SuggestionChosen"
                            TextChanged="SearchBox_TextChanged"
                            TextMemberPath="ControlName">
                            <AutoSuggestBox.KeyboardAccelerators>
                                <KeyboardAccelerator Key="F" Modifiers="Control" Invoked="FocusSearchAccelerator_Invoked" />
                            </AutoSuggestBox.KeyboardAccelerators>
                            <AutoSuggestBox.ItemTemplate>
                                <DataTemplate x:DataType="entities:SampleChooserContent">
                                    <TextBlock Text="{x:Bind ControlName}" />
                                </DataTemplate>
                            </AutoSuggestBox.ItemTemplate>
                        </AutoSuggestBox>


                        <CheckBox
                            Grid.Row="1"
                            Grid.ColumnSpan="5"
                            HorizontalAlignment="Center"
                            Content="Manual tests only"
                            IsChecked="{Binding ManualTestsOnly, Mode=TwoWay}" />
                    </StackPanel>

                    <ContentControl
                        Grid.Row="2"
                        HorizontalContentAlignment="Stretch"
                        VerticalContentAlignment="Stretch"
                        ContentTemplate="{StaticResource CategoriesList}"
                        Visibility="{Binding CategoryVisibility, Converter={StaticResource TrueToVisible}}" />

                    <!--  SAMPLES  -->
                    <ContentControl
                        HorizontalContentAlignment="Stretch"
                        VerticalContentAlignment="Stretch"
                        ContentTemplate="{StaticResource SamplesTitle}"
                        Visibility="{Binding SampleVisibility, Converter={StaticResource TrueToVisible}}" />


                    <ContentControl
                        Grid.Row="2"
                        HorizontalContentAlignment="Stretch"
                        VerticalContentAlignment="Stretch"
                        ContentTemplate="{StaticResource SamplesList}"
                        Visibility="{Binding SampleVisibility, Converter={StaticResource TrueToVisible}}" />

                    <!--  FAVORITES  -->
                    <Grid Style="{StaticResource BaseTitleGridContainerStyle}" Visibility="{Binding FavoritesVisibility, Converter={StaticResource TrueToVisible}}">
                        <TextBlock
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Style="{StaticResource Typo03}"
                            Text="Favorites" />
                    </Grid>
                    <ContentControl
                        Grid.Row="2"
                        HorizontalContentAlignment="Stretch"
                        VerticalContentAlignment="Stretch"
                        ContentTemplate="{StaticResource FavoritesList}"
                        Visibility="{Binding FavoritesVisibility, Converter={StaticResource TrueToVisible}}" />

                    <!--  RECENTS  -->
                    <Grid Style="{StaticResource BaseTitleGridContainerStyle}" Visibility="{Binding RecentsVisibility, Converter={StaticResource TrueToVisible}}">
                        <TextBlock
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Style="{StaticResource Typo03}"
                            Text="History" />
                    </Grid>
                    <ContentControl
                        Grid.Row="2"
                        HorizontalContentAlignment="Stretch"
                        VerticalContentAlignment="Stretch"
                        ContentTemplate="{StaticResource RecentSamplesList}"
                        Visibility="{Binding RecentsVisibility, Converter={StaticResource TrueToVisible}}" />

                    <!--  NAVIGATION BUTTONS  -->
                    <Border
                        Grid.Row="3"
                        Height="50"
                        Background="{ThemeResource SystemControlBackgroundAltMediumLowBrush}">
                        <u:StarStackPanel
                            VerticalAlignment="Stretch"
                            Orientation="Horizontal"
                            Sizes="*,*,*">
                            <!--
                                Button foreground has to be set by converter instead of Button's visual state
                                because path foreground doesn't change through visual states.
                            -->
                            <RadioButton
                                Command="{Binding ShowNewSectionCommand}"
                                CommandParameter="Library"
                                GroupName="SelectedSectionPhone"
                                IsChecked="{Binding CategoriesSelected, Mode=TwoWay}"
                                Style="{StaticResource SampleChooserNavRadioButtonStyle}">
                                <StackPanel VerticalAlignment="Center" Orientation="Vertical">
                                    <FontIcon Glyph="&#xE8F1;" />
                                    <TextBlock
                                        VerticalAlignment="Bottom"
                                        Style="{StaticResource Typo06}"
                                        Text="Library" />
                                </StackPanel>
                            </RadioButton>

                            <RadioButton
                                Command="{Binding ShowNewSectionCommand}"
                                CommandParameter="Favorites"
                                GroupName="SelectedSectionPhone"
                                IsChecked="{Binding FavoritesSelected, Mode=TwoWay}"
                                Style="{StaticResource SampleChooserNavRadioButtonStyle}">
                                <RadioButton.KeyboardAccelerators>
                                    <KeyboardAccelerator Key="F" Modifiers="Control,Shift" Invoked="FavoritesViewAccelerator_Invoked" />
                                </RadioButton.KeyboardAccelerators>
                                <StackPanel VerticalAlignment="Center" Orientation="Vertical">
                                    <FontIcon Glyph="&#xE734;" />
                                    <TextBlock
                                        VerticalAlignment="Bottom"
                                        Style="{StaticResource Typo06}"
                                        Text="Favorites" />
                                </StackPanel>
                            </RadioButton>

                            <RadioButton
                                Command="{Binding ShowNewSectionCommand}"
                                CommandParameter="Recents"
                                GroupName="SelectedSectionPhone"
                                IsChecked="{Binding RecentsSelected, Mode=TwoWay}"
                                Style="{StaticResource SampleChooserNavRadioButtonStyle}">
                                <RadioButton.KeyboardAccelerators>
                                    <KeyboardAccelerator Key="H" Modifiers="Control" Invoked="HistoryViewAccelerator_Invoked" />
                                </RadioButton.KeyboardAccelerators>
                                <StackPanel VerticalAlignment="Center" Orientation="Vertical">
                                    <FontIcon Glyph="&#xE823;" />
                                    <TextBlock
                                        VerticalAlignment="Bottom"
                                        Style="{StaticResource Typo06}"
                                        Text="History" />
                                </StackPanel>
                            </RadioButton>
                        </u:StarStackPanel>
                    </Border>
                </Grid>
            </SplitView.Pane>
            <SplitView.Content>
                <Grid toolkit:VisibleBoundsPadding.PaddingMask="All" Background="{ThemeResource NavigationViewContentBackground}">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    <!--  CONTENT  -->
                    <Border Height="{Binding TitleBarVisualHeight}" />
                    <Grid
                        Grid.Row="1"
                        Background="{ThemeResource NavigationViewTopPaneBackground}"
                        ColumnSpacing="4"
                        Style="{StaticResource BaseTitleGridContainerStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="50" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <!--  Back Button  -->
                        <ToggleButton
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            IsChecked="{Binding IsPaneOpen, ElementName=SplitView, Mode=TwoWay}"
                            IsEnabled="{Binding IsRecordAllTests, Converter={StaticResource reverseBoolConverter}}"
                            Style="{StaticResource BurgerButtonStyle}" />

                        <!--  Sample Name  -->
                        <TextBlock
                            Grid.Column="1"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            IsTextSelectionEnabled="True"
                            Style="{StaticResource Typo03}"
                            Text="{Binding CurrentSelectedSample.ControlName}"
                            TextAlignment="Center"
                            TextWrapping="NoWrap" />

                        <!--  Info Button  -->
                        <Button
                            x:Name="InfoButton"
                            Grid.Column="2"
                            VerticalAlignment="Center"
                            HorizontalContentAlignment="Center"
                            VerticalContentAlignment="Center"
                            FontSize="24"
                            FontWeight="SemiBold"
                            Foreground="{ThemeResource AccentFillColorDefaultBrush}"
                            Style="{StaticResource IconButtonStyle}"
                            Visibility="{Binding IsDebug}">
                            <Button.Content>
                                <SymbolIcon Symbol="Help" />
                            </Button.Content>
                            <Button.Flyout>
                                <Flyout>
                                    <u:SampleInfoControl DataContext="{Binding CurrentSelectedSample}" />
                                </Flyout>
                            </Button.Flyout>
                        </Button>

                        <!--  Previous Button  -->
                        <Button
                            Grid.Column="3"
                            Command="{Binding LoadPreviousTestCommand}"
                            CommandParameter="{Binding CurrentSelectedSample}"
                            Style="{StaticResource IconButtonStyle}">
                            <Button.KeyboardAccelerators>
                                <KeyboardAccelerator Key="Left" Modifiers="Menu" Invoked="PreviousSampleAccelerator_Invoked" />
                            </Button.KeyboardAccelerators>
                            <FontIcon Foreground="{ThemeResource AccentFillColorDefaultBrush}" Glyph="&#xE76B;" />
                        </Button>

                        <!--  Reload Button  -->
                        <Button
                            Grid.Column="4"
                            Command="{Binding ReloadCurrentTestCommand}"
                            CommandParameter="{Binding CurrentSelectedSample}"
                            Style="{StaticResource IconButtonStyle}">
                            <Button.KeyboardAccelerators>
                                <KeyboardAccelerator Key="F5" Invoked="ReloadSampleAccelerator_Invoked" />
                            </Button.KeyboardAccelerators>
                            <FontIcon Foreground="{ThemeResource AccentFillColorDefaultBrush}" Glyph="&#xE72C;" />
                        </Button>

                        <!--  Next Button  -->
                        <Button
                            Grid.Column="5"
                            Command="{Binding LoadNextTestCommand}"
                            CommandParameter="{Binding CurrentSelectedSample}"
                            Style="{StaticResource IconButtonStyle}">
                            <Button.KeyboardAccelerators>
                                <KeyboardAccelerator Key="Right" Modifiers="Menu" Invoked="NextSampleAccelerator_Invoked" />
                            </Button.KeyboardAccelerators>
                            <FontIcon Foreground="{ThemeResource AccentFillColorDefaultBrush}" Glyph="&#xE76C;" />
                        </Button>

                        <!--  Favorite Button  -->
                        <Button
                            Grid.Column="6"
                            Command="{Binding ToggleFavoriteCommand}"
                            CommandParameter="{Binding CurrentSelectedSample}"
                            Style="{StaticResource IconButtonStyle}">
                            <Grid>
                                <FontIcon Glyph="&#xE734;" Visibility="{Binding CurrentSelectedSample.IsFavorite, Mode=OneWay, Converter={StaticResource TrueToCollapsed}}" />
                                <FontIcon
                                    Foreground="{ThemeResource AccentFillColorDefaultBrush}"
                                    Glyph="&#xE735;"
                                    Visibility="{Binding CurrentSelectedSample.IsFavorite, Mode=OneWay, Converter={StaticResource TrueToVisible}}" />
                            </Grid>

                        </Button>

                        <!--  Overflow More(...) Button  -->
                        <Button
                            Grid.Column="10"
                            Margin="0,0,8,0"
                            Style="{StaticResource SampleControlButtonStyle}">
                            <SymbolIcon Symbol="More" />
                            <Button.Flyout>
                                <MenuFlyout>
                                    <MenuFlyoutSubItem x:Name="ThemeMenuFlyout" Text="Theme">
                                        <MenuFlyoutSubItem.Icon>
                                            <FontIcon FontFamily="{ThemeResource SymbolThemeFontFamily}" Glyph="&#xE793;" />
                                        </MenuFlyoutSubItem.Icon>
                                        <RadioMenuFlyoutItem
                                            GroupName="AppTheme"
                                            IsChecked="{Binding IsAppThemeSystem, Mode=TwoWay}"
                                            Tag="Auto"
                                            Text="System" />
                                        <RadioMenuFlyoutItem
                                            GroupName="AppTheme"
                                            IsChecked="{Binding IsAppThemeLight, Mode=TwoWay}"
                                            Tag="Light"
                                            Text="Light" />
                                        <RadioMenuFlyoutItem
                                            GroupName="AppTheme"
                                            IsChecked="{Binding IsAppThemeDark, Mode=TwoWay}"
                                            Tag="Dark"
                                            Text="Dark" />
                                    </MenuFlyoutSubItem>
                                    <ToggleMenuFlyoutItem IsChecked="{Binding UseFluentStyles, Mode=TwoWay}" Text="Use Fluent styles">
                                        <ToggleMenuFlyoutItem.Icon>
                                            <FontIcon FontFamily="{ThemeResource SymbolThemeFontFamily}" Glyph="&#xE790;" />
                                        </ToggleMenuFlyoutItem.Icon>
                                    </ToggleMenuFlyoutItem>
                                    <ToggleMenuFlyoutItem IsChecked="{Binding ExtendContentIntoTitleBar, Mode=TwoWay}" Text="Extend content into title bar">
                                        <ToggleMenuFlyoutItem.Icon>
                                            <FontIcon FontFamily="{ThemeResource SymbolThemeFontFamily}" Glyph="&#xE737;" />
                                        </ToggleMenuFlyoutItem.Icon>
                                    </ToggleMenuFlyoutItem>
                                    <ToggleMenuFlyoutItem IsChecked="{Binding UseRtl, Mode=TwoWay}" Text="Flow text right-to-left">
                                        <ToggleMenuFlyoutItem.Icon>
                                            <FontIcon FontFamily="{ThemeResource SymbolThemeFontFamily}" Glyph="&#xE9AB;" />
                                        </ToggleMenuFlyoutItem.Icon>
                                    </ToggleMenuFlyoutItem>
                                    <not_win:ToggleMenuFlyoutItem IsChecked="{Binding PreventLightDismissOnWindowDeactivated, Mode=TwoWay}" Text="Keep popups open on breakpoints">
                                        <not_win:ToggleMenuFlyoutItem.Icon>
                                            <FontIcon FontFamily="{ThemeResource SymbolThemeFontFamily}" Glyph="&#xE92F;" />
                                        </not_win:ToggleMenuFlyoutItem.Icon>
                                    </not_win:ToggleMenuFlyoutItem>
                                    <not_win:ToggleMenuFlyoutItem IsChecked="{Binding SimulateTouch, Mode=TwoWay}" Text="Simulate touch">
                                        <not_win:ToggleMenuFlyoutItem.Icon>
                                            <FontIcon FontFamily="{ThemeResource SymbolThemeFontFamily}" Glyph="&#xE815;" />
                                        </not_win:ToggleMenuFlyoutItem.Icon>
                                    </not_win:ToggleMenuFlyoutItem>
                                    <ToggleMenuFlyoutItem IsChecked="{Binding ShowFpsIndicator, Mode=TwoWay}" Text="Show FPS Indicator">
                                        <ToggleMenuFlyoutItem.Icon>
                                            <FontIcon FontFamily="{ThemeResource SymbolThemeFontFamily}" Glyph="&#xEC4A;" />
                                        </ToggleMenuFlyoutItem.Icon>
                                    </ToggleMenuFlyoutItem>
                                    <MenuFlyoutItem
                                        Command="{Binding LogViewDumpCommand}"
                                        Text="Log view dump"
                                        Visibility="{Binding IsDebug, Converter={StaticResource TrueToVisible}}">
                                        <MenuFlyoutItem.Icon>
                                            <FontIcon FontFamily="{ThemeResource SymbolThemeFontFamily}" Glyph="&#xEBD2;" />
                                        </MenuFlyoutItem.Icon>
                                    </MenuFlyoutItem>
                                    <MenuFlyoutSeparator />
                                    <MenuFlyoutItem Command="{Binding OpenHelpCommand}" Text="Help">
                                        <MenuFlyoutItem.Icon>
                                            <FontIcon FontFamily="{ThemeResource SymbolThemeFontFamily}" Glyph="&#xE897;" />
                                        </MenuFlyoutItem.Icon>
                                        <MenuFlyoutItem.KeyboardAccelerators>
                                            <KeyboardAccelerator Key="F1" Invoked="HelpAccelerator_Invoked" />
                                        </MenuFlyoutItem.KeyboardAccelerators>
                                    </MenuFlyoutItem>
                                </MenuFlyout>
                            </Button.Flyout>
                        </Button>
                    </Grid>

                    <!--  Sample Content  -->
                    <ContentControl
                        Grid.Row="2"
                        HorizontalAlignment="Stretch"
                        HorizontalContentAlignment="Stretch"
                        VerticalContentAlignment="Stretch"
                        Content="{Binding ContentPhone}" />

                    <StackPanel
                        Grid.Row="3"
                        Padding="8"
                        Background="{ThemeResource NavigationViewExpandedPaneBackground}"
                        Visibility="{Binding CurrentSelectedSample.Description, Converter={StaticResource StringEmptyToVisibilityConverter}}">
                        <TextBlock
                            Margin="0,0,0,4"
                            Style="{StaticResource Typo03}"
                            Text="Description" />
                        <TextBlock
                            MaxHeight="80"
                            Style="{StaticResource Typo05}"
                            Text="{Binding CurrentSelectedSample.Description}" />
                    </StackPanel>
                </Grid>
            </SplitView.Content>
        </SplitView>
        <VisualStateManager.VisualStateGroups>
            <VisualStateGroup>
                <VisualState x:Name="TabletState">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="500" />
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="SplitView.DisplayMode" Value="Inline" />
                    </VisualState.Setters>
                </VisualState>
            </VisualStateGroup>
        </VisualStateManager.VisualStateGroups>
    </Grid>
</UserControl>
