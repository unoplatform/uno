<?xml version="1.0" encoding="utf-8" ?>
<Window
    x:Class="WindowingSamples.DraggableRegionWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:WindowingSamples.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto" />
      <RowDefinition Height="*" />
    </Grid.RowDefinitions>
    
    <!-- Simple title bar -->
    <Grid Background="{ThemeResource SystemControlBackgroundAccentBrush}" Height="40" Grid.Row="0">
      <StackPanel Orientation="Horizontal" Margin="16,0" VerticalAlignment="Center" Spacing="8">
        <FontIcon Glyph="&#xE7B5;" FontSize="16" Foreground="White" />
        <TextBlock Text="Draggable Region Demo" Style="{ThemeResource CaptionTextBlockStyle}" VerticalAlignment="Center" FontWeight="SemiBold" Foreground="White" />
      </StackPanel>
    </Grid>

    <Grid Grid.Row="1" Padding="24">
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto" />
        <RowDefinition Height="*" />
      </Grid.RowDefinitions>

      <!-- Draggable region in the center -->
      <Border x:Name="DraggableRegion" 
              Grid.Row="0"
              Background="Red" 
              Width="400" 
              Height="80" 
              CornerRadius="8"
              HorizontalAlignment="Center"
              VerticalAlignment="Top"
              Margin="0,40,0,0">
        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Spacing="4">
          <FontIcon Glyph="&#xE7C2;" FontSize="24" Foreground="White" />
          <TextBlock Text="Drag me to move the window!" 
                     FontWeight="Bold" 
                     FontSize="16" 
                     HorizontalAlignment="Center"
                     Foreground="White" />
          <TextBlock Text="Click and drag this red area" 
                     FontSize="12" 
                     HorizontalAlignment="Center"
                     Foreground="White" 
                     Opacity="0.8" />
        </StackPanel>
      </Border>

      <ScrollViewer Grid.Row="1" Margin="0,40,0,0" VerticalScrollBarVisibility="Auto">
        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Top" Spacing="16" MaxWidth="700">
          <TextBlock TextWrapping="Wrap" HorizontalAlignment="Center" FontSize="18">
            <Run FontWeight="Bold">InputNonClientPointerSource.SetRegionRects for Caption</Run>
            <LineBreak/>
            <LineBreak/>
            This window demonstrates the usage of InputNonClientPointerSource.SetRegionRects for the Caption region kind. The red rectangle in the middle of the window can be used to drag the entire window around the screen.
          </TextBlock>
          
          <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                  BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                  BorderThickness="1"
                  CornerRadius="8"
                  Padding="16">
            <StackPanel Spacing="12">
              <TextBlock Text="How it works:" FontWeight="SemiBold" FontSize="16" />
              <TextBlock TextWrapping="Wrap">
                • The red rectangle is defined as a non-client caption region using SetRegionRects
              </TextBlock>
              <TextBlock TextWrapping="Wrap">
                • When you click and drag the red area, the window moves as if you were dragging the title bar
              </TextBlock>
              <TextBlock TextWrapping="Wrap">
                • This demonstrates custom drag regions anywhere in your window
              </TextBlock>
              <TextBlock TextWrapping="Wrap">
                • The region automatically updates when the window is resized or the element moves
              </TextBlock>
            </StackPanel>
          </Border>

          <Border Background="{ThemeResource AccentFillColorDefaultBrush}" 
                  BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                  BorderThickness="1"
                  CornerRadius="8"
                  Padding="16">
            <StackPanel Spacing="12">
              <TextBlock Text="API Details:" FontWeight="SemiBold" FontSize="16" Foreground="White" />
              <TextBlock TextWrapping="Wrap" Foreground="White">
                <Run FontWeight="SemiBold">InputNonClientPointerSource.SetRegionRects</Run>
                <LineBreak/>
                This API allows you to define custom regions in your window that behave like non-client areas (such as the title bar for dragging, or the resize borders).
              </TextBlock>
              <TextBlock TextWrapping="Wrap" Foreground="White">
                <Run FontWeight="SemiBold">NonClientRegionKind.Caption</Run>
                <LineBreak/>
                When you set a region as Caption, clicking and dragging in that region will move the entire window.
              </TextBlock>
            </StackPanel>
          </Border>

          <Border Background="{ThemeResource LayerFillColorDefaultBrush}" 
                  BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                  BorderThickness="1"
                  CornerRadius="8"
                  Padding="16">
            <StackPanel Spacing="8">
              <TextBlock Text="Use Cases:" FontWeight="SemiBold" FontSize="16" />
              <TextBlock TextWrapping="Wrap">• Custom title bar layouts with specific draggable areas</TextBlock>
              <TextBlock TextWrapping="Wrap">• Media player controls where only certain areas allow window dragging</TextBlock>
              <TextBlock TextWrapping="Wrap">• Design tools where you want precise control over draggable regions</TextBlock>
              <TextBlock TextWrapping="Wrap">• Floating toolbars or panels with custom drag handles</TextBlock>
            </StackPanel>
          </Border>

          <Button HorizontalAlignment="Center" Click="CloseClick" Margin="0,16,0,0">Close Window</Button>
        </StackPanel>
      </ScrollViewer>
    </Grid>
  </Grid>
</Window>
