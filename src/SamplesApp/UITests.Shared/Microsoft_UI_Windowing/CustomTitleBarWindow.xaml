<?xml version="1.0" encoding="utf-8" ?>
<Window
    x:Class="WindowingSamples.CustomTitleBarWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:WindowingSamples.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto" />
      <RowDefinition Height="*" />
    </Grid.RowDefinitions>
    
    <!-- Custom title bar with fully custom caption buttons -->
    <Grid x:Name="CustomTitleBar" Background="{ThemeResource SystemControlAcrylicElementBrush}" Height="40" Grid.Row="0">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="Auto" />
        <ColumnDefinition Width="*" />
        <ColumnDefinition Width="Auto" />
      </Grid.ColumnDefinitions>
      
      <StackPanel Orientation="Horizontal" Grid.Column="0" Margin="12,0,0,0" VerticalAlignment="Center" Spacing="8">
        <FontIcon Glyph="&#xE161;" FontSize="16" />
        <TextBlock Text="Custom Caption Buttons" Style="{ThemeResource CaptionTextBlockStyle}" VerticalAlignment="Center" FontWeight="SemiBold" />
      </StackPanel>

      <!-- Custom caption buttons -->
      <StackPanel Orientation="Horizontal" Grid.Column="2" Spacing="0">
        <Button x:Name="MinimizeButton" Width="48" Height="40" Background="Transparent" BorderThickness="0" Click="MinimizeClick" ToolTipService.ToolTip="Minimize">
          <FontIcon Glyph="&#xE921;" FontSize="10" />
        </Button>
        <Button x:Name="MaximizeRestoreButton" Width="48" Height="40" Background="Transparent" BorderThickness="0" Click="MaximizeRestoreClick" ToolTipService.ToolTip="Maximize">
          <FontIcon x:Name="MaximizeRestoreIcon" Glyph="&#xE922;" FontSize="10" />
        </Button>
        <Button x:Name="CloseButton" Width="48" Height="40" Background="Transparent" BorderThickness="0" Click="CloseClick" ToolTipService.ToolTip="Close">
          <Button.Resources>
            <SolidColorBrush x:Key="ButtonBackgroundPointerOver" Color="#C42B1C" />
            <SolidColorBrush x:Key="ButtonBackgroundPressed" Color="#A22A1B" />
          </Button.Resources>
          <FontIcon Glyph="&#xE106;" FontSize="10" />
        </Button>
      </StackPanel>
    </Grid>

    <ScrollViewer Grid.Row="1" Padding="24" VerticalScrollBarVisibility="Auto">
      <StackPanel HorizontalAlignment="Center" VerticalAlignment="Top" Spacing="16" MaxWidth="700">
        <TextBlock TextWrapping="Wrap" HorizontalAlignment="Center" FontSize="18">
          <Run FontWeight="Bold">SetBorderAndTitleBar(true, false) Demo</Run>
          <LineBreak/>
          <LineBreak/>
          This window demonstrates the SetBorderAndTitleBar API with parameters (true, false) to completely extend the client area and hide the system caption buttons. The window has fully custom caption buttons that you can style as needed.
        </TextBlock>
        
        <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="8"
                Padding="16">
          <StackPanel Spacing="12">
            <TextBlock Text="Key Features:" FontWeight="SemiBold" FontSize="16" />
            <TextBlock TextWrapping="Wrap">• Full control over window appearance</TextBlock>
            <TextBlock TextWrapping="Wrap">• Custom caption buttons (minimize, maximize/restore, close)</TextBlock>
            <TextBlock TextWrapping="Wrap">• SetBorderAndTitleBar(true, false) hides system buttons</TextBlock>
            <TextBlock TextWrapping="Wrap">• Custom button styling and behavior</TextBlock>
          </StackPanel>
        </Border>

        <Border Background="{ThemeResource AccentFillColorDefaultBrush}" 
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="8"
                Padding="16">
          <StackPanel Spacing="12">
            <TextBlock Text="InputNonClientPointerSource for Maximize:" FontWeight="SemiBold" FontSize="16" Foreground="White" />
            <TextBlock TextWrapping="Wrap" Foreground="White">
              The Maximize button uses InputNonClientPointerSource.SetRegionRects to support the Snap Layouts menu on Windows 11. When you hover over the maximize button, you'll see the snap layout options appear.
            </TextBlock>
            <TextBlock TextWrapping="Wrap" Foreground="White" FontStyle="Italic">
              Note: This feature requires Windows 11 and will be a no-op on other platforms.
            </TextBlock>
          </StackPanel>
        </Border>

        <Border Background="{ThemeResource LayerFillColorDefaultBrush}" 
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="8"
                Padding="16">
          <StackPanel Spacing="8">
            <TextBlock Text="Try it out:" FontWeight="SemiBold" FontSize="16" />
            <TextBlock TextWrapping="Wrap">• Click the minimize button to minimize the window</TextBlock>
            <TextBlock TextWrapping="Wrap">• Click the maximize button to maximize or restore the window</TextBlock>
            <TextBlock TextWrapping="Wrap">• Hover over maximize button on Windows 11 to see Snap Layouts</TextBlock>
            <TextBlock TextWrapping="Wrap">• Click the close button (red on hover) to close the window</TextBlock>
            <TextBlock TextWrapping="Wrap">• Drag the title bar to move the window</TextBlock>
          </StackPanel>
        </Border>
      </StackPanel>
    </ScrollViewer>
  </Grid>
</Window>
